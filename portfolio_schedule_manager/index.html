<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora Scheduler - World-Class Calendar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“…</text></svg>">
    <style>
        :root {
            /* Light theme */
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #f72585;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #f94144;
            --bg-color: #f8f9fa;
            --card-color: #ffffff;
            --text-color: #212529;
            --text-light: #6c757d;
            --border-color: #dee2e6;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --radius: 10px;
            --radius-sm: 6px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            
            /* Animation speeds */
            --speed-fast: 0.15s;
            --speed-normal: 0.3s;
            --speed-slow: 0.5s;
        }

        /* Dark theme */
        .theme-dark {
            --primary-color: #4895ef;
            --secondary-color: #560bad;
            --accent-color: #f72585;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #f94144;
            --bg-color: #121212;
            --card-color: #1e1e1e;
            --text-color: #f8f9fa;
            --text-light: #adb5bd;
            --border-color: #2d2d2d;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
        }

        /* Accent theme 1 */
        .theme-accent-1 {
            --primary-color: #00b4d8;
            --secondary-color: #0077b6;
            --accent-color: #ff9e00;
        }

        /* Accent theme 2 */
        .theme-accent-2 {
            --primary-color: #9d4edd;
            --secondary-color: #5a189a;
            --accent-color: #ff6d00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: var(--transition);
            overflow-x: hidden;
        }

        /* Utility classes */
        .hidden {
            display: none !important;
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background-color: var(--card-color);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
            transition: var(--transition);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Main layout */
        .main-container {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        .sidebar {
            width: 280px;
            background-color: var(--card-color);
            border-right: 1px solid var(--border-color);
            padding: 25px 20px;
            transition: var(--transition);
            position: relative;
            z-index: 10;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            overflow-x: auto;
        }

        /* Button styles */
        .btn {
            padding: 10px 20px;
            border-radius: var(--radius-sm);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--bg-color);
            border-color: var(--primary-color);
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            padding: 0;
            justify-content: center;
        }

        /* View controls */
        .view-controls {
            display: flex;
            background-color: var(--bg-color);
            border-radius: var(--radius-sm);
            padding: 5px;
            margin-bottom: 25px;
        }

        .view-btn {
            flex: 1;
            padding: 10px 15px;
            text-align: center;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-weight: 500;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
        }

        .view-btn.active {
            background-color: var(--card-color);
            color: var(--primary-color);
            box-shadow: var(--shadow);
        }

        /* Calendar grid */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .calendar-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .month-calendar {
            background-color: var(--card-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background-color: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            text-align: center;
            padding: 15px 0;
        }

        .weekday {
            padding: 10px;
        }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: var(--border-color);
        }

        .day-cell {
            background-color: var(--card-color);
            min-height: 120px;
            padding: 10px;
            position: relative;
            transition: var(--transition);
        }

        .day-cell:hover {
            background-color: var(--bg-color);
        }

        .day-cell.today {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .day-cell.today .date-number {
            background-color: var(--primary-color);
            color: white;
        }

        .day-cell.other-month {
            color: var(--text-light);
            background-color: rgba(108, 117, 125, 0.05);
        }

        .date-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .event-chip {
            background-color: var(--primary-color);
            color: white;
            font-size: 0.8rem;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            cursor: pointer;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            transition: var(--transition);
            position: relative;
        }

        .event-chip:hover {
            opacity: 0.9;
            transform: translateX(2px);
        }

        .event-chip.high { background-color: var(--danger-color); }
        .event-chip.medium { background-color: var(--warning-color); }
        .event-chip.low { background-color: var(--success-color); }

        /* Week and day views */
        .week-view, .day-view {
            background-color: var(--card-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .time-slots {
            display: flex;
            flex-direction: column;
        }

        .time-slot {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            min-height: 60px;
        }

        .time-label {
            width: 80px;
            padding: 10px;
            text-align: right;
            font-weight: 500;
            border-right: 1px solid var(--border-color);
            background-color: var(--bg-color);
        }

        .time-content {
            flex: 1;
            padding: 10px;
            position: relative;
        }

        .time-event {
            position: absolute;
            left: 5px;
            right: 5px;
            border-radius: var(--radius-sm);
            padding: 8px 12px;
            color: white;
            font-size: 0.85rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
        }

        .time-event:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .current-time-indicator {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--accent-color);
            z-index: 5;
        }

        .current-time-indicator::before {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--accent-color);
            top: -5px;
            left: -6px;
        }

        /* List view */
        .list-view {
            background-color: var(--card-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .list-item {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        .list-item:hover {
            background-color: var(--bg-color);
        }

        .event-time {
            font-weight: 600;
            min-width: 120px;
            color: var(--primary-color);
        }

        .event-title {
            font-weight: 500;
            flex: 1;
        }

        .event-priority {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 10px;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--card-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .modal-close:hover {
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .modal-body {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background-color: var(--card-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        /* Sidebar components */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .user-name {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .user-email {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-light);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .filter-tag {
            display: inline-flex;
            align-items: center;
            background-color: var(--bg-color);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-bottom: 8px;
            margin-right: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-tag:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .filter-tag.active {
            background-color: var(--primary-color);
            color: white;
        }

        .quick-add {
            background-color: var(--primary-color);
            color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }

        .quick-add-title {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        /* Settings */
        .settings-section {
            background-color: var(--card-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin-bottom: 25px;
        }

        .theme-options {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .theme-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: var(--transition);
        }

        .theme-option.active {
            border-color: var(--primary-color);
        }

        .theme-light {
            background: linear-gradient(135deg, #4361ee, #f8f9fa);
        }

        .theme-dark {
            background: linear-gradient(135deg, #4895ef, #121212);
        }

        .theme-accent-1 {
            background: linear-gradient(135deg, #00b4d8, #ff9e00);
        }

        .theme-accent-2 {
            background: linear-gradient(135deg, #9d4edd, #ff6d00);
        }

        /* Print styles */
        @media print {
            .header, .sidebar, .view-controls, .btn, .modal-overlay {
                display: none !important;
            }
            
            .main-content {
                padding: 0;
            }
            
            .month-calendar, .week-view, .day-view, .list-view {
                box-shadow: none;
                border-radius: 0;
            }
            
            body {
                background-color: white;
                color: black;
            }
            
            .print-header {
                display: block !important;
                text-align: center;
                padding: 20px;
                border-bottom: 2px solid #000;
                margin-bottom: 30px;
            }
            
            .print-footer {
                display: block !important;
                text-align: center;
                padding: 20px;
                border-top: 1px solid #ccc;
                margin-top: 30px;
                font-size: 0.9rem;
                color: #666;
            }
            
            .day-cell {
                min-height: 100px;
                border: 1px solid #ddd !important;
            }
        }

        /* Responsive design */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 20px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .calendar-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .calendar-nav {
                width: 100%;
                justify-content: space-between;
            }
        }

        /* Animation for event creation */
        @keyframes flyIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .event-created {
            animation: flyIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Drag and drop styles */
        .dragging {
            opacity: 0.7;
            transform: rotate(3deg);
            box-shadow: var(--shadow-lg);
        }

        .drop-preview {
            background-color: rgba(67, 97, 238, 0.1);
            border: 2px dashed var(--primary-color);
        }
    </style>
</head>
<body class="theme-light">
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <span>Aurora Scheduler</span>
            </div>
            
            <div class="nav-controls">
                <button class="btn btn-secondary btn-icon" id="settingsBtn" aria-label="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="btn btn-primary" id="newEventBtn">
                    <i class="fas fa-plus"></i> New Event
                </button>
                <div class="user-profile">
                    <div class="user-avatar">U</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="user-profile">
                <div class="user-avatar">U</div>
                <div>
                    <div class="user-name">User Profile</div>
                    <div class="user-email">user@example.com</div>
                </div>
            </div>
            
            <div class="quick-add">
                <div class="quick-add-title">Quick Add Event</div>
                <input type="text" class="form-control" id="quickEventInput" placeholder="Meeting with team at 3 PM">
                <button class="btn btn-secondary" style="margin-top: 10px; width: 100%;">Add</button>
            </div>
            
            <div class="sidebar-section">
                <div class="section-title">Views</div>
                <div class="view-controls">
                    <button class="view-btn active" data-view="month">Month</button>
                    <button class="view-btn" data-view="week">Week</button>
                    <button class="view-btn" data-view="day">Day</button>
                    <button class="view-btn" data-view="list">List</button>
                </div>
            </div>
            
            <div class="sidebar-section">
                <div class="section-title">Filters</div>
                <div>
                    <div class="filter-tag active">All Events</div>
                    <div class="filter-tag">Work</div>
                    <div class="filter-tag">Personal</div>
                    <div class="filter-tag">High Priority</div>
                    <div class="filter-tag">Meetings</div>
                </div>
            </div>
            
            <div class="sidebar-section">
                <div class="section-title">Calendars</div>
                <div>
                    <div class="filter-tag active">
                        <i class="fas fa-circle" style="color: #4361ee; margin-right: 5px;"></i> Personal
                    </div>
                    <div class="filter-tag">
                        <i class="fas fa-circle" style="color: #f94144; margin-right: 5px;"></i> Work
                    </div>
                    <div class="filter-tag">
                        <i class="fas fa-circle" style="color: #4cc9f0; margin-right: 5px;"></i> Family
                    </div>
                </div>
            </div>
            
            <div class="sidebar-section">
                <div class="section-title">Upcoming</div>
                <div id="upcomingEvents">
                    <!-- Upcoming events will be populated here -->
                </div>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <!-- Print header (only visible when printing) -->
            <div class="print-header hidden">
                <h1>Aurora Scheduler</h1>
                <p>Schedule for <span id="printDateRange"></span></p>
                <p>Generated on <span id="printGenerationDate"></span></p>
            </div>
            
            <!-- Calendar view -->
            <div class="calendar-view" id="calendarView">
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button class="btn btn-secondary btn-icon" id="prevBtn" aria-label="Previous">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h2 class="calendar-title" id="calendarTitle">June 2023</h2>
                        <button class="btn btn-secondary btn-icon" id="nextBtn" aria-label="Next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button class="btn btn-secondary" id="todayBtn">Today</button>
                    </div>
                    
                    <div class="nav-controls">
                        <button class="btn btn-secondary" id="exportBtn">
                            <i class="fas fa-download"></i> Export
                        </button>
                        <button class="btn btn-secondary" id="printBtn">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
                
                <!-- Month view -->
                <div class="month-calendar view-container active" id="monthView">
                    <div class="weekdays">
                        <div class="weekday">Sun</div>
                        <div class="weekday">Mon</div>
                        <div class="weekday">Tue</div>
                        <div class="weekday">Wed</div>
                        <div class="weekday">Thu</div>
                        <div class="weekday">Fri</div>
                        <div class="weekday">Sat</div>
                    </div>
                    <div class="days-grid" id="calendarGrid">
                        <!-- Calendar days will be generated here -->
                    </div>
                </div>
                
                <!-- Week view -->
                <div class="week-view view-container" id="weekView">
                    <div class="time-slots" id="weekTimeSlots">
                        <!-- Week view will be generated here -->
                    </div>
                </div>
                
                <!-- Day view -->
                <div class="day-view view-container" id="dayView">
                    <div class="time-slots" id="dayTimeSlots">
                        <!-- Day view will be generated here -->
                    </div>
                </div>
                
                <!-- List view -->
                <div class="list-view view-container" id="listView">
                    <div id="listViewContent">
                        <!-- List view will be generated here -->
                    </div>
                </div>
            </div>
            
            <!-- Print footer (only visible when printing) -->
            <div class="print-footer hidden">
                <p>Aurora Scheduler &copy; 2023 | Generated with world-class calendar technology</p>
                <p>Visit https://aurora-scheduler.example.com for the interactive version</p>
            </div>
        </main>
    </div>

    <!-- Event modal -->
    <div class="modal-overlay" id="eventModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Create New Event</h3>
                <button class="modal-close" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="eventForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventTitle">Event Title *</label>
                            <input type="text" id="eventTitle" class="form-control" required placeholder="Team meeting, Doctor appointment, etc.">
                        </div>
                        <div class="form-group">
                            <label for="eventPriority">Priority</label>
                            <select id="eventPriority" class="form-control">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate">Date *</label>
                            <input type="date" id="eventDate" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="startTime">Start Time *</label>
                            <input type="time" id="startTime" class="form-control" required value="09:00">
                        </div>
                        <div class="form-group">
                            <label for="endTime">End Time *</label>
                            <input type="time" id="endTime" class="form-control" required value="10:00">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventLocation">Location</label>
                        <input type="text" id="eventLocation" class="form-control" placeholder="Conference Room A or Online">
                    </div>
                    
                    <div class="form-group">
                        <label for="eventAttendees">Attendees</label>
                        <input type="text" id="eventAttendees" class="form-control" placeholder="email1@example.com, email2@example.com">
                        <small class="text-muted">Separate emails with commas</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventReminders">Reminders</label>
                            <select id="eventReminders" class="form-control" multiple>
                                <option value="10">10 minutes before</option>
                                <option value="30">30 minutes before</option>
                                <option value="60" selected>1 hour before</option>
                                <option value="1440">1 day before</option>
                            </select>
                            <small class="text-muted">Hold Ctrl/Cmd to select multiple</small>
                        </div>
                        <div class="form-group">
                            <label for="eventRepeat">Repeat</label>
                            <select id="eventRepeat" class="form-control">
                                <option value="none">Does not repeat</option>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                                <option value="yearly">Yearly</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventTags">Tags</label>
                        <input type="text" id="eventTags" class="form-control" placeholder="work, meeting, project">
                        <small class="text-muted">Separate tags with commas</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventNotes">Notes</label>
                        <textarea id="eventNotes" class="form-control" rows="3" placeholder="Additional details about the event..."></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="saveEventBtn">Save Event</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Settings modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Settings</h3>
                <button class="modal-close" id="closeSettingsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>Theme</h4>
                    <div class="theme-options">
                        <div class="theme-option theme-light active" data-theme="light"></div>
                        <div class="theme-option theme-dark" data-theme="dark"></div>
                        <div class="theme-option theme-accent-1" data-theme="accent-1"></div>
                        <div class="theme-option theme-accent-2" data-theme="accent-2"></div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Notifications</h4>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enableNotifications" checked>
                            Enable browser notifications
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="defaultReminder">Default reminder time</label>
                        <select id="defaultReminder" class="form-control">
                            <option value="10">10 minutes before</option>
                            <option value="30">30 minutes before</option>
                            <option value="60" selected>1 hour before</option>
                            <option value="1440">1 day before</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Working Hours</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workStart">Start</label>
                            <input type="time" id="workStart" class="form-control" value="09:00">
                        </div>
                        <div class="form-group">
                            <label for="workEnd">End</label>
                            <input type="time" id="workEnd" class="form-control" value="17:00">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Data Management</h4>
                    <div class="form-row">
                        <button class="btn btn-secondary" id="exportDataBtn">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                        <button class="btn btn-secondary" id="importDataBtn">
                            <i class="fas fa-upload"></i> Import Data
                        </button>
                        <button class="btn btn-danger" id="clearDataBtn">
                            <i class="fas fa-trash"></i> Clear All Data
                        </button>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="closeSettingsBtn2">Close</button>
                    <button type="button" class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Export modal -->
    <div class="modal-overlay" id="exportModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Export Options</h3>
                <button class="modal-close" id="closeExportBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>Export Format</h4>
                    <div class="form-group">
                        <div style="margin-bottom: 15px;">
                            <button class="btn btn-primary" id="exportPDFBtn" style="width: 100%; margin-bottom: 10px;">
                                <i class="fas fa-file-pdf"></i> Export as PDF (Print)
                            </button>
                            <small>Creates a print-optimized PDF using browser's print function</small>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <button class="btn btn-primary" id="exportICSBtn" style="width: 100%; margin-bottom: 10px;">
                                <i class="fas fa-calendar-alt"></i> Export as .ics file
                            </button>
                            <small>Export events in iCalendar format for Google Calendar, Outlook, etc.</small>
                        </div>
                        
                        <div>
                            <button class="btn btn-primary" id="exportJSONBtn" style="width: 100%; margin-bottom: 10px;">
                                <i class="fas fa-database"></i> Export as JSON Backup
                            </button>
                            <small>Backup all your data in JSON format</small>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Export Range</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exportStartDate">Start Date</label>
                            <input type="date" id="exportStartDate" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="exportEndDate">End Date</label>
                            <input type="date" id="exportEndDate" class="form-control">
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="closeExportBtn2">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="hidden" style="position: fixed; bottom: 20px; right: 20px; background: var(--primary-color); color: white; padding: 15px 20px; border-radius: var(--radius); box-shadow: var(--shadow-lg); z-index: 1000; max-width: 300px; animation: flyIn 0.3s;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <span id="notificationText">Event saved successfully!</span>
            <button id="closeNotificationBtn" style="background: none; border: none; color: white; font-size: 1.2rem; margin-left: 10px;">&times;</button>
        </div>
    </div>

    <script>
        // Aurora Scheduler Application
        class AuroraScheduler {
            constructor() {
                this.currentDate = new Date();
                this.currentView = 'month';
                this.events = [];
                this.settings = {
                    theme: 'light',
                    enableNotifications: true,
                    defaultReminder: 60,
                    workStart: '09:00',
                    workEnd: '17:00',
                    weekStart: 'sun'
                };
                
                this.init();
            }
            
            init() {
                this.loadSettings();
                this.loadEvents();
                this.setupEventListeners();
                this.renderCalendar();
                this.updateUpcomingEvents();
                
                // Request notification permission
                if (this.settings.enableNotifications && 'Notification' in window) {
                    if (Notification.permission === 'default') {
                        Notification.requestPermission();
                    }
                }
                
                // Register service worker for notifications
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/service-worker.js').catch(err => {
                        console.log('Service Worker registration failed:', err);
                    });
                }
            }
            
            loadSettings() {
                const savedSettings = localStorage.getItem('auroraSettings');
                if (savedSettings) {
                    this.settings = { ...this.settings, ...JSON.parse(savedSettings) };
                }
                
                // Apply theme
                document.body.className = `theme-${this.settings.theme}`;
                
                // Apply other settings to UI
                document.getElementById('enableNotifications').checked = this.settings.enableNotifications;
                document.getElementById('defaultReminder').value = this.settings.defaultReminder;
                document.getElementById('workStart').value = this.settings.workStart;
                document.getElementById('workEnd').value = this.settings.workEnd;
                
                // Set today's date in event form
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('eventDate').value = today;
                document.getElementById('eventDate').min = today;
            }
            
            saveSettings() {
                localStorage.setItem('auroraSettings', JSON.stringify(this.settings));
                this.showNotification('Settings saved successfully');
            }
            
            loadEvents() {
                const savedEvents = localStorage.getItem('auroraEvents');
                if (savedEvents) {
                    this.events = JSON.parse(savedEvents);
                } else {
                    // Load sample events for demo
                    this.loadSampleEvents();
                }
            }
            
            loadSampleEvents() {
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const nextWeek = new Date(today);
                nextWeek.setDate(nextWeek.getDate() + 7);
                
                this.events = [
                    {
                        id: '1',
                        title: 'Team Standup',
                        date: today.toISOString().split('T')[0],
                        startTime: '09:00',
                        endTime: '09:30',
                        priority: 'medium',
                        location: 'Conference Room A',
                        attendees: 'team@example.com',
                        reminders: [10, 60],
                        repeat: 'weekly',
                        tags: ['work', 'meeting'],
                        notes: 'Daily standup meeting with the development team'
                    },
                    {
                        id: '2',
                        title: 'Doctor Appointment',
                        date: tomorrow.toISOString().split('T')[0],
                        startTime: '14:00',
                        endTime: '15:00',
                        priority: 'high',
                        location: 'Medical Center',
                        attendees: '',
                        reminders: [1440, 60],
                        repeat: 'none',
                        tags: ['personal', 'health'],
                        notes: 'Annual checkup with Dr. Smith'
                    },
                    {
                        id: '3',
                        title: 'Project Presentation',
                        date: nextWeek.toISOString().split('T')[0],
                        startTime: '13:00',
                        endTime: '15:00',
                        priority: 'high',
                        location: 'Main Auditorium',
                        attendees: 'client@example.com, team@example.com',
                        reminders: [1440, 60, 10],
                        repeat: 'none',
                        tags: ['work', 'presentation'],
                        notes: 'Quarterly project review with stakeholders'
                    },
                    {
                        id: '4',
                        title: 'Gym Session',
                        date: today.toISOString().split('T')[0],
                        startTime: '18:00',
                        endTime: '19:00',
                        priority: 'low',
                        location: 'Fitness Center',
                        attendees: '',
                        reminders: [60],
                        repeat: 'weekly',
                        tags: ['personal', 'fitness'],
                        notes: 'Evening workout session'
                    }
                ];
                
                this.saveEvents();
            }
            
            saveEvents() {
                localStorage.setItem('auroraEvents', JSON.stringify(this.events));
            }
            
            setupEventListeners() {
                // View controls
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const view = btn.getAttribute('data-view');
                        this.switchView(view);
                    });
                });
                
                // Navigation
                document.getElementById('prevBtn').addEventListener('click', () => this.navigate(-1));
                document.getElementById('nextBtn').addEventListener('click', () => this.navigate(1));
                document.getElementById('todayBtn').addEventListener('click', () => this.goToToday());
                
                // Event modal
                document.getElementById('newEventBtn').addEventListener('click', () => this.openEventModal());
                document.getElementById('closeModalBtn').addEventListener('click', () => this.closeEventModal());
                document.getElementById('cancelBtn').addEventListener('click', () => this.closeEventModal());
                document.getElementById('eventForm').addEventListener('submit', (e) => this.saveEvent(e));
                
                // Settings
                document.getElementById('settingsBtn').addEventListener('click', () => this.openSettingsModal());
                document.getElementById('closeSettingsBtn').addEventListener('click', () => this.closeSettingsModal());
                document.getElementById('closeSettingsBtn2').addEventListener('click', () => this.closeSettingsModal());
                document.getElementById('saveSettingsBtn').addEventListener('click', () => this.applySettings());
                
                // Theme selection
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.addEventListener('click', () => {
                        const theme = option.getAttribute('data-theme');
                        this.changeTheme(theme);
                    });
                });
                
                // Export
                document.getElementById('exportBtn').addEventListener('click', () => this.openExportModal());
                document.getElementById('closeExportBtn').addEventListener('click', () => this.closeExportModal());
                document.getElementById('closeExportBtn2').addEventListener('click', () => this.closeExportModal());
                document.getElementById('exportPDFBtn').addEventListener('click', () => this.exportPDF());
                document.getElementById('exportICSBtn').addEventListener('click', () => this.exportICS());
                document.getElementById('exportJSONBtn').addEventListener('click', () => this.exportJSON());
                
                // Print
                document.getElementById('printBtn').addEventListener('click', () => this.printView());
                
                // Data management
                document.getElementById('exportDataBtn').addEventListener('click', () => this.exportAllData());
                document.getElementById('importDataBtn').addEventListener('click', () => this.importData());
                document.getElementById('clearDataBtn').addEventListener('click', () => this.clearData());
                
                // Notification close
                document.getElementById('closeNotificationBtn').addEventListener('click', () => {
                    document.getElementById('notification').classList.add('hidden');
                });
                
                // Quick add event
                document.getElementById('quickEventInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && e.target.value.trim()) {
                        this.quickAddEvent(e.target.value);
                        e.target.value = '';
                    }
                });
            }
            
            switchView(view) {
                this.currentView = view;
                
                // Update active button
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('data-view') === view) {
                        btn.classList.add('active');
                    }
                });
                
                // Show the selected view
                document.querySelectorAll('.view-container').forEach(container => {
                    container.classList.remove('active');
                });
                document.getElementById(`${view}View`).classList.add('active');
                
                // Update calendar title based on view
                this.updateCalendarTitle();
                this.renderCalendar();
            }
            
            navigate(direction) {
                switch(this.currentView) {
                    case 'month':
                        this.currentDate.setMonth(this.currentDate.getMonth() + direction);
                        break;
                    case 'week':
                        this.currentDate.setDate(this.currentDate.getDate() + (direction * 7));
                        break;
                    case 'day':
                        this.currentDate.setDate(this.currentDate.getDate() + direction);
                        break;
                }
                this.renderCalendar();
                this.updateCalendarTitle();
            }
            
            goToToday() {
                this.currentDate = new Date();
                this.renderCalendar();
                this.updateCalendarTitle();
            }
            
            updateCalendarTitle() {
                const titleElement = document.getElementById('calendarTitle');
                let title = '';
                
                switch(this.currentView) {
                    case 'month':
                        title = this.currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                        break;
                    case 'week':
                        const weekStart = new Date(this.currentDate);
                        weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                        const weekEnd = new Date(weekStart);
                        weekEnd.setDate(weekEnd.getDate() + 6);
                        
                        const startStr = weekStart.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                        const endStr = weekEnd.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                        title = `${startStr} - ${endStr}`;
                        break;
                    case 'day':
                        title = this.currentDate.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                        break;
                    case 'list':
                        title = 'Schedule List';
                        break;
                }
                
                titleElement.textContent = title;
            }
            
            renderCalendar() {
                switch(this.currentView) {
                    case 'month':
                        this.renderMonthView();
                        break;
                    case 'week':
                        this.renderWeekView();
                        break;
                    case 'day':
                        this.renderDayView();
                        break;
                    case 'list':
                        this.renderListView();
                        break;
                }
            }
            
            renderMonthView() {
                const calendarGrid = document.getElementById('calendarGrid');
                calendarGrid.innerHTML = '';
                
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                
                // Get first day of month
                const firstDay = new Date(year, month, 1);
                // Get last day of month
                const lastDay = new Date(year, month + 1, 0);
                // Get day of week for first day (0 = Sunday, 6 = Saturday)
                const firstDayOfWeek = firstDay.getDay();
                // Get total days in month
                const daysInMonth = lastDay.getDate();
                
                // Get previous month's last days
                const prevMonthLastDay = new Date(year, month, 0).getDate();
                
                // Today's date for comparison
                const today = new Date();
                const todayStr = today.toISOString().split('T')[0];
                
                // Add days from previous month
                for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                    const day = prevMonthLastDay - i;
                    const date = new Date(year, month - 1, day);
                    const dateStr = date.toISOString().split('T')[0];
                    
                    const dayCell = this.createDayCell(date, day, 'other-month');
                    calendarGrid.appendChild(dayCell);
                }
                
                // Add days from current month
                for (let day = 1; day <= daysInMonth; day++) {
                    const date = new Date(year, month, day);
                    const dateStr = date.toISOString().split('T')[0];
                    const isToday = dateStr === todayStr;
                    
                    const dayCell = this.createDayCell(date, day, isToday ? 'today' : '');
                    calendarGrid.appendChild(dayCell);
                }
                
                // Add days from next month to complete the grid (42 cells total)
                const totalCells = 42; // 6 weeks * 7 days
                const cellsSoFar = firstDayOfWeek + daysInMonth;
                const nextMonthDaysNeeded = totalCells - cellsSoFar;
                
                for (let day = 1; day <= nextMonthDaysNeeded; day++) {
                    const date = new Date(year, month + 1, day);
                    const dayCell = this.createDayCell(date, day, 'other-month');
                    calendarGrid.appendChild(dayCell);
                }
            }
            
            createDayCell(date, dayNumber, additionalClass = '') {
                const dateStr = date.toISOString().split('T')[0];
                const dayCell = document.createElement('div');
                dayCell.className = `day-cell ${additionalClass}`;
                dayCell.setAttribute('data-date', dateStr);
                
                const dateNumber = document.createElement('div');
                dateNumber.className = 'date-number';
                dateNumber.textContent = dayNumber;
                
                dayCell.appendChild(dateNumber);
                
                // Add events for this day
                const dayEvents = this.getEventsForDate(date);
                dayEvents.forEach(event => {
                    const eventChip = document.createElement('div');
                    eventChip.className = `event-chip ${event.priority}`;
                    eventChip.textContent = `${event.startTime} ${event.title}`;
                    eventChip.setAttribute('data-event-id', event.id);
                    
                    eventChip.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.openEventModal(event);
                    });
                    
                    dayCell.appendChild(eventChip);
                });
                
                // Make day cell clickable to add new event
                dayCell.addEventListener('click', (e) => {
                    if (e.target === dayCell || e.target.classList.contains('date-number')) {
                        this.openEventModalForDate(date);
                    }
                });
                
                return dayCell;
            }
            
            renderWeekView() {
                const weekTimeSlots = document.getElementById('weekTimeSlots');
                weekTimeSlots.innerHTML = '';
                
                // Get start of week (Sunday)
                const weekStart = new Date(this.currentDate);
                weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                
                // Create header with days
                const headerRow = document.createElement('div');
                headerRow.className = 'time-slot';
                headerRow.style.minHeight = '40px';
                
                const timeLabel = document.createElement('div');
                timeLabel.className = 'time-label';
                timeLabel.textContent = '';
                headerRow.appendChild(timeLabel);
                
                // Add day headers
                for (let i = 0; i < 7; i++) {
                    const day = new Date(weekStart);
                    day.setDate(day.getDate() + i);
                    
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'time-content';
                    dayHeader.style.fontWeight = '600';
                    dayHeader.style.textAlign = 'center';
                    dayHeader.style.padding = '10px';
                    
                    const dayName = day.toLocaleDateString('en-US', { weekday: 'short' });
                    const dayNumber = day.getDate();
                    
                    dayHeader.innerHTML = `${dayName}<br><span style="font-size: 1.2rem;">${dayNumber}</span>`;
                    
                    // Highlight today
                    const today = new Date();
                    if (day.toDateString() === today.toDateString()) {
                        dayHeader.style.backgroundColor = 'rgba(67, 97, 238, 0.1)';
                        dayHeader.style.borderRadius = 'var(--radius-sm)';
                    }
                    
                    headerRow.appendChild(dayHeader);
                }
                
                weekTimeSlots.appendChild(headerRow);
                
                // Create time slots (8 AM to 8 PM)
                for (let hour = 8; hour <= 20; hour++) {
                    const timeSlot = document.createElement('div');
                    timeSlot.className = 'time-slot';
                    
                    const timeLabel = document.createElement('div');
                    timeLabel.className = 'time-label';
                    timeLabel.textContent = `${hour % 12 === 0 ? 12 : hour % 12} ${hour < 12 ? 'AM' : 'PM'}`;
                    timeSlot.appendChild(timeLabel);
                    
                    // Create content areas for each day
                    for (let i = 0; i < 7; i++) {
                        const day = new Date(weekStart);
                        day.setDate(day.getDate() + i);
                        const dateStr = day.toISOString().split('T')[0];
                        
                        const timeContent = document.createElement('div');
                        timeContent.className = 'time-content';
                        timeContent.setAttribute('data-date', dateStr);
                        timeContent.setAttribute('data-hour', hour);
                        
                        // Add events for this day and hour
                        const hourEvents = this.getEventsForDateAndHour(day, hour);
                        hourEvents.forEach(event => {
                            const eventElement = this.createTimeEventElement(event);
                            timeContent.appendChild(eventElement);
                        });
                        
                        timeSlot.appendChild(timeContent);
                        
                        // Make time slot clickable to add event
                        timeContent.addEventListener('click', (e) => {
                            if (e.target === timeContent) {
                                const date = new Date(day);
                                date.setHours(hour, 0, 0, 0);
                                this.openEventModalForDate(date);
                            }
                        });
                    }
                    
                    weekTimeSlots.appendChild(timeSlot);
                }
                
                // Add current time indicator
                this.addCurrentTimeIndicator(weekTimeSlots, true);
            }
            
            renderDayView() {
                const dayTimeSlots = document.getElementById('dayTimeSlots');
                dayTimeSlots.innerHTML = '';
                
                const day = this.currentDate;
                const dateStr = day.toISOString().split('T')[0];
                
                // Create header with day info
                const headerRow = document.createElement('div');
                headerRow.className = 'time-slot';
                headerRow.style.minHeight = '60px';
                
                const timeLabel = document.createElement('div');
                timeLabel.className = 'time-label';
                timeLabel.textContent = '';
                headerRow.appendChild(timeLabel);
                
                const dayHeader = document.createElement('div');
                dayHeader.className = 'time-content';
                dayHeader.style.fontWeight = '600';
                dayHeader.style.fontSize = '1.2rem';
                dayHeader.style.padding = '15px';
                dayHeader.textContent = day.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                
                headerRow.appendChild(dayHeader);
                dayTimeSlots.appendChild(headerRow);
                
                // Create time slots (6 AM to 10 PM)
                for (let hour = 6; hour <= 22; hour++) {
                    for (let quarter = 0; quarter < 4; quarter++) {
                        const timeSlot = document.createElement('div');
                        timeSlot.className = 'time-slot';
                        timeSlot.style.minHeight = '30px';
                        
                        // Only show label for full hours
                        const timeLabel = document.createElement('div');
                        timeLabel.className = 'time-label';
                        
                        if (quarter === 0) {
                            timeLabel.textContent = `${hour % 12 === 0 ? 12 : hour % 12} ${hour < 12 ? 'AM' : 'PM'}`;
                        }
                        
                        timeSlot.appendChild(timeLabel);
                        
                        const timeContent = document.createElement('div');
                        timeContent.className = 'time-content';
                        timeContent.setAttribute('data-date', dateStr);
                        timeContent.setAttribute('data-hour', hour);
                        timeContent.setAttribute('data-minute', quarter * 15);
                        
                        // Add quarter hour indicator
                        if (quarter > 0) {
                            timeContent.style.borderTop = '1px dashed var(--border-color)';
                        }
                        
                        // Add events for this time
                        const minute = quarter * 15;
                        const timeEvents = this.getEventsForDateAndTime(day, hour, minute);
                        timeEvents.forEach(event => {
                            const eventElement = this.createTimeEventElement(event);
                            timeContent.appendChild(eventElement);
                        });
                        
                        timeSlot.appendChild(timeContent);
                        
                        // Make time slot clickable to add event
                        timeContent.addEventListener('click', (e) => {
                            if (e.target === timeContent) {
                                const date = new Date(day);
                                date.setHours(hour, minute, 0, 0);
                                this.openEventModalForDate(date);
                            }
                        });
                        
                        dayTimeSlots.appendChild(timeSlot);
                    }
                }
                
                // Add current time indicator
                this.addCurrentTimeIndicator(dayTimeSlots, false);
            }
            
            renderListView() {
                const listViewContent = document.getElementById('listViewContent');
                listViewContent.innerHTML = '';
                
                // Get events for the next 7 days
                const startDate = new Date();
                const endDate = new Date();
                endDate.setDate(endDate.getDate() + 7);
                
                const upcomingEvents = this.getEventsForDateRange(startDate, endDate);
                
                if (upcomingEvents.length === 0) {
                    listViewContent.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-light);">No upcoming events in the next 7 days</div>';
                    return;
                }
                
                // Sort events by date and time
                upcomingEvents.sort((a, b) => {
                    const dateA = new Date(`${a.date}T${a.startTime}`);
                    const dateB = new Date(`${b.date}T${b.startTime}`);
                    return dateA - dateB;
                });
                
                // Group events by date
                const eventsByDate = {};
                upcomingEvents.forEach(event => {
                    if (!eventsByDate[event.date]) {
                        eventsByDate[event.date] = [];
                    }
                    eventsByDate[event.date].push(event);
                });
                
                // Render each date group
                Object.keys(eventsByDate).sort().forEach(date => {
                    const dateHeader = document.createElement('div');
                    dateHeader.style.padding = '15px 20px';
                    dateHeader.style.backgroundColor = 'var(--bg-color)';
                    dateHeader.style.fontWeight = '600';
                    dateHeader.style.borderBottom = '1px solid var(--border-color)';
                    
                    const dateObj = new Date(date);
                    dateHeader.textContent = dateObj.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                    
                    listViewContent.appendChild(dateHeader);
                    
                    eventsByDate[date].forEach(event => {
                        const listItem = document.createElement('div');
                        listItem.className = 'list-item';
                        
                        const eventTime = document.createElement('div');
                        eventTime.className = 'event-time';
                        eventTime.textContent = `${event.startTime} - ${event.endTime}`;
                        
                        const eventPriority = document.createElement('div');
                        eventPriority.className = `event-priority ${event.priority}`;
                        eventPriority.style.backgroundColor = `var(--${event.priority}-color)`;
                        
                        const eventTitle = document.createElement('div');
                        eventTitle.className = 'event-title';
                        eventTitle.textContent = event.title;
                        
                        const eventLocation = document.createElement('div');
                        eventLocation.className = 'event-location';
                        eventLocation.textContent = event.location || '';
                        eventLocation.style.color = 'var(--text-light)';
                        eventLocation.style.fontSize = '0.9rem';
                        eventLocation.style.marginLeft = '15px';
                        eventLocation.style.flex = '1';
                        
                        listItem.appendChild(eventPriority);
                        listItem.appendChild(eventTime);
                        listItem.appendChild(eventTitle);
                        listItem.appendChild(eventLocation);
                        
                        listItem.addEventListener('click', () => {
                            this.openEventModal(event);
                        });
                        
                        listViewContent.appendChild(listItem);
                    });
                });
            }
            
            createTimeEventElement(event) {
                const eventElement = document.createElement('div');
                eventElement.className = `time-event ${event.priority}`;
                eventElement.style.backgroundColor = `var(--${event.priority}-color)`;
                eventElement.setAttribute('data-event-id', event.id);
                
                // Calculate position and height based on event duration
                const startTime = event.startTime.split(':');
                const endTime = event.endTime.split(':');
                
                const startHour = parseInt(startTime[0]);
                const startMinute = parseInt(startTime[1]);
                const endHour = parseInt(endTime[0]);
                const endMinute = parseInt(endTime[1]);
                
                const startMinutes = startHour * 60 + startMinute;
                const endMinutes = endHour * 60 + endMinute;
                const durationMinutes = endMinutes - startMinutes;
                
                // Position from 6 AM (360 minutes)
                const top = (startMinutes - 360) * 0.5; // 0.5px per minute in day view
                const height = durationMinutes * 0.5;
                
                eventElement.style.top = `${top}px`;
                eventElement.style.height = `${height}px`;
                
                eventElement.innerHTML = `
                    <div style="font-weight: 600; font-size: 0.9rem;">${event.title}</div>
                    <div style="font-size: 0.8rem; opacity: 0.9;">${event.startTime} - ${event.endTime}</div>
                    ${event.location ? `<div style="font-size: 0.8rem;">${event.location}</div>` : ''}
                `;
                
                eventElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.openEventModal(event);
                });
                
                return eventElement;
            }
            
            addCurrentTimeIndicator(container, isWeekView = false) {
                const now = new Date();
                const currentHour = now.getHours();
                const currentMinute = now.getMinutes();
                
                // Only show if today is displayed
                const today = new Date();
                const currentDateStr = today.toISOString().split('T')[0];
                
                if (isWeekView) {
                    // For week view, check if today is in the displayed week
                    const weekStart = new Date(this.currentDate);
                    weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                    const weekEnd = new Date(weekStart);
                    weekEnd.setDate(weekEnd.getDate() + 6);
                    
                    if (today < weekStart || today > weekEnd) {
                        return;
                    }
                    
                    // Calculate which day column to use
                    const dayIndex = today.getDay();
                    
                    // Find the time slot for current hour
                    const timeSlots = container.querySelectorAll('.time-slot');
                    timeSlots.forEach(slot => {
                        const timeLabel = slot.querySelector('.time-label');
                        if (timeLabel && timeLabel.textContent.includes(`${currentHour % 12 === 0 ? 12 : currentHour % 12}`)) {
                            const timeContents = slot.querySelectorAll('.time-content');
                            if (timeContents[dayIndex]) {
                                const indicator = document.createElement('div');
                                indicator.className = 'current-time-indicator';
                                indicator.style.top = `${(currentMinute / 60) * 60}px`;
                                
                                timeContents[dayIndex].style.position = 'relative';
                                timeContents[dayIndex].appendChild(indicator);
                            }
                        }
                    });
                } else {
                    // For day view, check if today is displayed
                    const viewDateStr = this.currentDate.toISOString().split('T')[0];
                    if (currentDateStr !== viewDateStr) {
                        return;
                    }
                    
                    // Calculate position from 6 AM (360 minutes)
                    const currentMinutes = currentHour * 60 + currentMinute;
                    const top = (currentMinutes - 360) * 0.5;
                    
                    const indicator = document.createElement('div');
                    indicator.className = 'current-time-indicator';
                    indicator.style.top = `${top}px`;
                    
                    container.style.position = 'relative';
                    container.appendChild(indicator);
                }
            }
            
            getEventsForDate(date) {
                const dateStr = date.toISOString().split('T')[0];
                return this.events.filter(event => event.date === dateStr);
            }
            
            getEventsForDateAndHour(date, hour) {
                const dateStr = date.toISOString().split('T')[0];
                return this.events.filter(event => {
                    if (event.date !== dateStr) return false;
                    
                    const eventStartHour = parseInt(event.startTime.split(':')[0]);
                    return eventStartHour === hour;
                });
            }
            
            getEventsForDateAndTime(date, hour, minute) {
                const dateStr = date.toISOString().split('T')[0];
                return this.events.filter(event => {
                    if (event.date !== dateStr) return false;
                    
                    const eventStartHour = parseInt(event.startTime.split(':')[0]);
                    const eventStartMinute = parseInt(event.startTime.split(':')[1]);
                    
                    // Return events that start at this specific time
                    return eventStartHour === hour && eventStartMinute === minute;
                });
            }
            
            getEventsForDateRange(startDate, endDate) {
                const startStr = startDate.toISOString().split('T')[0];
                const endStr = endDate.toISOString().split('T')[0];
                
                return this.events.filter(event => {
                    return event.date >= startStr && event.date <= endStr;
                });
            }
            
            openEventModal(event = null) {
                const modal = document.getElementById('eventModal');
                modal.classList.add('active');
                
                if (event) {
                    // Edit existing event
                    document.getElementById('eventTitle').value = event.title;
                    document.getElementById('eventPriority').value = event.priority;
                    document.getElementById('eventDate').value = event.date;
                    document.getElementById('startTime').value = event.startTime;
                    document.getElementById('endTime').value = event.endTime;
                    document.getElementById('eventLocation').value = event.location || '';
                    document.getElementById('eventAttendees').value = event.attendees || '';
                    
                    // Set reminders (multi-select)
                    const reminderSelect = document.getElementById('eventReminders');
                    Array.from(reminderSelect.options).forEach(option => {
                        option.selected = event.reminders && event.reminders.includes(parseInt(option.value));
                    });
                    
                    document.getElementById('eventRepeat').value = event.repeat || 'none';
                    document.getElementById('eventTags').value = event.tags ? event.tags.join(', ') : '';
                    document.getElementById('eventNotes').value = event.notes || '';
                    
                    // Store event ID for updating
                    modal.setAttribute('data-event-id', event.id);
                    document.querySelector('.modal-title').textContent = 'Edit Event';
                } else {
                    // Create new event
                    document.getElementById('eventForm').reset();
                    
                    // Set default reminder based on settings
                    const reminderSelect = document.getElementById('eventReminders');
                    Array.from(reminderSelect.options).forEach(option => {
                        option.selected = parseInt(option.value) === this.settings.defaultReminder;
                    });
                    
                    // Clear event ID
                    modal.removeAttribute('data-event-id');
                    document.querySelector('.modal-title').textContent = 'Create New Event';
                }
            }
            
            openEventModalForDate(date) {
                this.openEventModal();
                
                // Set the date and time
                const dateStr = date.toISOString().split('T')[0];
                document.getElementById('eventDate').value = dateStr;
                
                // Set time to the hour (or current time if today)
                const now = new Date();
                if (date.toDateString() === now.toDateString()) {
                    // For today, set time to next hour
                    const nextHour = now.getHours() + 1;
                    document.getElementById('startTime').value = `${nextHour.toString().padStart(2, '0')}:00`;
                    document.getElementById('endTime').value = `${(nextHour + 1).toString().padStart(2, '0')}:00`;
                } else {
                    // For other days, default to 9 AM - 10 AM
                    document.getElementById('startTime').value = '09:00';
                    document.getElementById('endTime').value = '10:00';
                }
            }
            
            closeEventModal() {
                document.getElementById('eventModal').classList.remove('active');
            }
            
            saveEvent(e) {
                e.preventDefault();
                
                const eventId = document.getElementById('eventModal').getAttribute('data-event-id');
                const isEdit = !!eventId;
                
                const event = {
                    id: isEdit ? eventId : this.generateId(),
                    title: document.getElementById('eventTitle').value,
                    priority: document.getElementById('eventPriority').value,
                    date: document.getElementById('eventDate').value,
                    startTime: document.getElementById('startTime').value,
                    endTime: document.getElementById('endTime').value,
                    location: document.getElementById('eventLocation').value,
                    attendees: document.getElementById('eventAttendees').value,
                    reminders: Array.from(document.getElementById('eventReminders').selectedOptions).map(option => parseInt(option.value)),
                    repeat: document.getElementById('eventRepeat').value,
                    tags: document.getElementById('eventTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                    notes: document.getElementById('eventNotes').value
                };
                
                if (isEdit) {
                    // Update existing event
                    const index = this.events.findIndex(e => e.id === eventId);
                    if (index !== -1) {
                        this.events[index] = event;
                    }
                } else {
                    // Add new event
                    this.events.push(event);
                }
                
                this.saveEvents();
                this.renderCalendar();
                this.updateUpcomingEvents();
                this.closeEventModal();
                
                // Show notification
                this.showNotification(`Event ${isEdit ? 'updated' : 'created'} successfully`);
                
                // Schedule notifications for reminders
                this.scheduleReminders(event);
            }
            
            quickAddEvent(text) {
                // Simple parsing for quick add
                const now = new Date();
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                
                const event = {
                    id: this.generateId(),
                    title: text,
                    priority: 'medium',
                    date: now.toISOString().split('T')[0],
                    startTime: '15:00',
                    endTime: '16:00',
                    location: '',
                    attendees: '',
                    reminders: [this.settings.defaultReminder],
                    repeat: 'none',
                    tags: ['quick-add'],
                    notes: 'Added via quick add'
                };
                
                this.events.push(event);
                this.saveEvents();
                this.renderCalendar();
                this.updateUpcomingEvents();
                this.showNotification('Event added via quick add');
            }
            
            generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            }
            
            scheduleReminders(event) {
                if (!this.settings.enableNotifications || !('Notification' in window)) {
                    return;
                }
                
                if (Notification.permission !== 'granted') {
                    return;
                }
                
                const eventDate = new Date(`${event.date}T${event.startTime}`);
                
                event.reminders.forEach(reminderMinutes => {
                    const reminderTime = new Date(eventDate.getTime() - reminderMinutes * 60000);
                    const now = new Date();
                    
                    // Only schedule if reminder is in the future
                    if (reminderTime > now) {
                        const timeout = reminderTime.getTime() - now.getTime();
                        
                        setTimeout(() => {
                            this.showBrowserNotification(event);
                        }, timeout);
                    }
                });
            }
            
            showBrowserNotification(event) {
                if (!this.settings.enableNotifications || !('Notification' in window)) {
                    return;
                }
                
                if (Notification.permission === 'granted') {
                    new Notification(`Reminder: ${event.title}`, {
                        body: `Starts at ${event.startTime} at ${event.location || 'Unknown location'}`,
                        icon: 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“…</text></svg>',
                        tag: `event-${event.id}`
                    });
                }
            }
            
            openSettingsModal() {
                document.getElementById('settingsModal').classList.add('active');
            }
            
            closeSettingsModal() {
                document.getElementById('settingsModal').classList.remove('active');
            }
            
            applySettings() {
                this.settings.theme = document.body.className.replace('theme-', '');
                this.settings.enableNotifications = document.getElementById('enableNotifications').checked;
                this.settings.defaultReminder = parseInt(document.getElementById('defaultReminder').value);
                this.settings.workStart = document.getElementById('workStart').value;
                this.settings.workEnd = document.getElementById('workEnd').value;
                
                this.saveSettings();
                this.closeSettingsModal();
                
                // Request notification permission if enabled
                if (this.settings.enableNotifications && 'Notification' in window && Notification.permission === 'default') {
                    Notification.requestPermission();
                }
            }
            
            changeTheme(theme) {
                document.body.className = `theme-${theme}`;
                
                // Update active theme indicator
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('active');
                });
                
                document.querySelector(`.theme-option[data-theme="${theme}"]`).classList.add('active');
                
                this.settings.theme = theme;
                this.saveSettings();
            }
            
            openExportModal() {
                // Set default date range for export
                const today = new Date().toISOString().split('T')[0];
                const nextWeek = new Date();
                nextWeek.setDate(nextWeek.getDate() + 7);
                const nextWeekStr = nextWeek.toISOString().split('T')[0];
                
                document.getElementById('exportStartDate').value = today;
                document.getElementById('exportEndDate').value = nextWeekStr;
                
                document.getElementById('exportModal').classList.add('active');
            }
            
            closeExportModal() {
                document.getElementById('exportModal').classList.remove('active');
            }
            
            exportPDF() {
                // Prepare for printing
                const startDate = document.getElementById('exportStartDate').value || new Date().toISOString().split('T')[0];
                const endDate = document.getElementById('exportEndDate').value || new Date().toISOString().split('T')[0];
                
                // Update print header
                document.getElementById('printDateRange').textContent = `${startDate} to ${endDate}`;
                document.getElementById('printGenerationDate').textContent = new Date().toLocaleDateString();
                
                // Show print header and footer
                document.querySelectorAll('.print-header, .print-footer').forEach(el => {
                    el.classList.remove('hidden');
                });
                
                // Switch to list view for printing (cleanest layout)
                this.switchView('list');
                
                // Wait for render then trigger print
                setTimeout(() => {
                    window.print();
                    
                    // Hide print elements after printing
                    setTimeout(() => {
                        document.querySelectorAll('.print-header, .print-footer').forEach(el => {
                            el.classList.add('hidden');
                        });
                        
                        // Switch back to previous view
                        this.switchView(this.currentView);
                    }, 100);
                }, 500);
                
                this.closeExportModal();
                this.showNotification('Preparing PDF for printing...');
            }
            
            exportICS() {
                const startDate = document.getElementById('exportStartDate').value;
                const endDate = document.getElementById('exportEndDate').value;
                
                let eventsToExport = this.events;
                
                if (startDate && endDate) {
                    eventsToExport = this.events.filter(event => {
                        return event.date >= startDate && event.date <= endDate;
                    });
                }
                
                if (eventsToExport.length === 0) {
                    this.showNotification('No events to export in selected date range');
                    return;
                }
                
                // Create .ics content
                let icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Aurora Scheduler//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
`;
                
                eventsToExport.forEach(event => {
                    const eventStart = new Date(`${event.date}T${event.startTime}`);
                    const eventEnd = new Date(`${event.date}T${event.endTime}`);
                    
                    // Format dates for iCalendar (YYYYMMDDTHHMMSSZ)
                    const formatDate = (date) => {
                        return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
                    };
                    
                    icsContent += `BEGIN:VEVENT
UID:${event.id}@aurora-scheduler
DTSTAMP:${formatDate(new Date())}
DTSTART:${formatDate(eventStart)}
DTEND:${formatDate(eventEnd)}
SUMMARY:${event.title}
${event.location ? `LOCATION:${event.location}\n` : ''}
${event.notes ? `DESCRIPTION:${event.notes.replace(/\n/g, '\\n')}\n` : ''}
${event.attendees ? `ATTENDEE:${event.attendees}\n` : ''}
PRIORITY:${event.priority === 'high' ? '1' : event.priority === 'medium' ? '3' : '5'}
`;
                    
                    // Add reminders
                    event.reminders.forEach(reminder => {
                        icsContent += `BEGIN:VALARM
TRIGGER:-PT${reminder}M
ACTION:DISPLAY
DESCRIPTION:Reminder for ${event.title}
END:VALARM
`;
                    });
                    
                    icsContent += `END:VEVENT
`;
                });
                
                icsContent += `END:VCALENDAR`;
                
                // Create download link
                const blob = new Blob([icsContent], { type: 'text/calendar' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `aurora-schedule-${startDate || 'all'}-to-${endDate || 'all'}.ics`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.closeExportModal();
                this.showNotification(`Exported ${eventsToExport.length} events as .ics file`);
            }
            
            exportJSON() {
                const startDate = document.getElementById('exportStartDate').value;
                const endDate = document.getElementById('exportEndDate').value;
                
                let eventsToExport = this.events;
                
                if (startDate && endDate) {
                    eventsToExport = this.events.filter(event => {
                        return event.date >= startDate && event.date <= endDate;
                    });
                }
                
                const exportData = {
                    app: 'Aurora Scheduler',
                    version: '1.0',
                    exportDate: new Date().toISOString(),
                    events: eventsToExport
                };
                
                const dataStr = JSON.stringify(exportData, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `aurora-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.closeExportModal();
                this.showNotification(`Exported ${eventsToExport.length} events as JSON backup`);
            }
            
            exportAllData() {
                const allData = {
                    app: 'Aurora Scheduler',
                    version: '1.0',
                    exportDate: new Date().toISOString(),
                    events: this.events,
                    settings: this.settings
                };
                
                const dataStr = JSON.stringify(allData, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `aurora-full-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.showNotification('All data exported successfully');
            }
            
            importData() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    
                    reader.onload = (event) => {
                        try {
                            const data = JSON.parse(event.target.result);
                            
                            if (data.events) {
                                this.events = data.events;
                                this.saveEvents();
                                this.renderCalendar();
                                this.updateUpcomingEvents();
                                this.showNotification(`Imported ${data.events.length} events successfully`);
                            }
                            
                            if (data.settings) {
                                this.settings = { ...this.settings, ...data.settings };
                                this.saveSettings();
                                this.loadSettings(); // Reload settings to apply them
                            }
                        } catch (error) {
                            this.showNotification('Error importing data: Invalid file format', true);
                        }
                    };
                    
                    reader.readAsText(file);
                };
                
                input.click();
            }
            
            clearData() {
                if (confirm('Are you sure you want to clear all data? This cannot be undone.')) {
                    this.events = [];
                    this.saveEvents();
                    this.renderCalendar();
                    this.updateUpcomingEvents();
                    this.showNotification('All data cleared successfully');
                }
            }
            
            printView() {
                // Show print header and footer
                document.querySelectorAll('.print-header, .print-footer').forEach(el => {
                    el.classList.remove('hidden');
                });
                
                // Update print header with current view info
                document.getElementById('printDateRange').textContent = document.getElementById('calendarTitle').textContent;
                document.getElementById('printGenerationDate').textContent = new Date().toLocaleDateString();
                
                // Trigger print
                setTimeout(() => {
                    window.print();
                    
                    // Hide print elements after printing
                    setTimeout(() => {
                        document.querySelectorAll('.print-header, .print-footer').forEach(el => {
                            el.classList.add('hidden');
                        });
                    }, 100);
                }, 500);
            }
            
            updateUpcomingEvents() {
                const upcomingEventsContainer = document.getElementById('upcomingEvents');
                const today = new Date();
                const nextWeek = new Date();
                nextWeek.setDate(nextWeek.getDate() + 7);
                
                const upcomingEvents = this.getEventsForDateRange(today, nextWeek);
                
                // Sort by date and time
                upcomingEvents.sort((a, b) => {
                    const dateA = new Date(`${a.date}T${a.startTime}`);
                    const dateB = new Date(`${b.date}T${b.startTime}`);
                    return dateA - dateB;
                });
                
                // Show only next 5 events
                const eventsToShow = upcomingEvents.slice(0, 5);
                
                if (eventsToShow.length === 0) {
                    upcomingEventsContainer.innerHTML = '<div style="color: var(--text-light); font-size: 0.9rem;">No upcoming events</div>';
                    return;
                }
                
                let html = '';
                eventsToShow.forEach(event => {
                    const eventDate = new Date(event.date);
                    const dateStr = eventDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                    
                    html += `
                        <div style="margin-bottom: 12px; padding: 10px; background-color: var(--bg-color); border-radius: var(--radius-sm);">
                            <div style="font-weight: 600; font-size: 0.9rem;">${event.title}</div>
                            <div style="font-size: 0.8rem; color: var(--text-light);">${dateStr} at ${event.startTime}</div>
                            <div class="event-priority ${event.priority}" style="display: inline-block; margin-top: 5px;"></div>
                        </div>
                    `;
                });
                
                upcomingEventsContainer.innerHTML = html;
            }
            
            showNotification(message, isError = false) {
                const notification = document.getElementById('notification');
                const notificationText = document.getElementById('notificationText');
                
                notificationText.textContent = message;
                
                if (isError) {
                    notification.style.backgroundColor = 'var(--danger-color)';
                } else {
                    notification.style.backgroundColor = 'var(--primary-color)';
                }
                
                notification.classList.remove('hidden');
                
                // Auto-hide after 5 seconds
                setTimeout(() => {
                    notification.classList.add('hidden');
                }, 5000);
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const app = new AuroraScheduler();
            
            // Make app available globally for debugging
            window.auroraApp = app;
        });
    </script>
</body>
</html>